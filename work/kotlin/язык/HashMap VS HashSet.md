–•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è ‚Äì —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **–∫–ª—é—á** –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç –¥–ª—è –Ω–µ–≥–æ **—Ö–µ—à-–∫–æ–¥** (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ). –≠—Ç–æ—Ç —Ö–µ—à-–∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `HashMap`.

HashMap ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ.
–û–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ (key ‚Üí value), –∏—Å–ø–æ–ª—å–∑—É—è –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤ (buckets).

–ë–∞–∫–µ—Ç (bucket) ‚Äî —ç—Ç–æ —è—á–µ–π–∫–∞ –º–∞—Å—Å–∏–≤–∞, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ.

üîπ –ö–∞–∫ HashMap –≤—ã—á–∏—Å–ª—è–µ—Ç, –∫—É–¥–∞ –ø–æ–º–µ—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?

–ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä—É key ‚Üí value, HashMap –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∏ —à–∞–≥–∞:

1) –í—ã—á–∏—Å–ª—è–µ—Ç hashCode() –∫–ª—é—á–∞
```kotlin
val key = "Alice"
val hash = key.hashCode()  // –ù–∞–ø—Ä–∏–º–µ—Ä, 63253599
```

2) –ù–∞—Ö–æ–¥–∏—Ç –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞ (—è—á–µ–π–∫–∏ –º–∞—Å—Å–∏–≤–∞)
```kotlin
–ò–Ω–¥–µ–∫—Å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
bucketIndex = key.hashCode() % arraySize
```

3) –ü–æ–º–µ—â–∞–µ—Ç key ‚Üí value –≤ –±–∞–∫–µ—Ç
	–ï—Å–ª–∏ –±–∞–∫–µ—Ç –ø—É—Å—Ç–æ–π, –ø–∞—Ä–∞ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç—É–¥–∞.
	–ï—Å–ª–∏ –±–∞–∫–µ—Ç –∑–∞–Ω—è—Ç (–∫–æ–ª–ª–∏–∑–∏—è), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Ü–µ–ø–æ—á–∫–∏ (LinkedList).

–ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –≤ `HashMap`, —Å–Ω–∞—á–∞–ª–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ö–µ—à-–∫–æ–¥ –∫–ª—é—á–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `hashCode()`. –ó–∞—Ç–µ–º —ç—Ç–æ—Ç —Ö–µ—à-–∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞, –∫—É–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –ø–æ–º–µ—â—ë–Ω –≤ –º–∞—Å—Å–∏–≤. –ò–Ω–¥–µ–∫—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –¥–µ–ª–µ–Ω–∏—è `hashCode()` –Ω–∞ —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –∏ –≤–∑—è—Ç–∏—è –æ—Å—Ç–∞—Ç–∫–∞ (`%`). –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –±–∞–∫–µ—Ç–∞–º –∏ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏—Ö –ø—Ä–∏ –ø–æ–∏—Å–∫–µ.

 –ö–∞–∫ HashMap –∏—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç?
```kotlin
–í—ã–∑—ã–≤–∞–µ—Ç hashCode() –∫–ª—é—á–∞
val hash = "Alice".hashCode()  // 63253599
```

–í—ã—á–∏—Å–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞:
```kotlin
bucketIndex = 63253599 % 16 = 15
```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–∫–µ—Ç ‚Ññ15:
    –ï—Å–ª–∏ –≤ –±–∞–∫–µ—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç (Alice ‚Üí 25), –æ–Ω —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 25.
    –ï—Å–ª–∏ –≤ –±–∞–∫–µ—Ç–µ —Ü–µ–ø–æ—á–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π (–∫–æ–ª–ª–∏–∑–∏—è), HashMap –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ —Å–ø–∏—Å–∫—É –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ equals().

üîπ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö?
–ö–æ–ª–ª–∏–∑–∏—è ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –¥–≤–∞ –∫–ª—é—á–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç.
–í HashMap –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤–∞ —Ä–µ—à–µ–Ω–∏—è:

    –¶–µ–ø–æ—á–∫–∞ (Chaining) ‚Äî –í –±–∞–∫–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è LinkedList —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.
    "Alice" –∏ "Bob" –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ –∫–∞–∫ —Å–ø–∏—Å–æ–∫:

    bucket[3]: "Alice" ‚Üí 25 ‚Üí "Bob" ‚Üí 30

    –ü—Ä–∏ –ø–æ–∏—Å–∫–µ "Bob", HashMap —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç "Alice", –∞ –∑–∞—Ç–µ–º "Bob".

    –û—Ç–∫—Ä—ã—Ç–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è (Open Addressing) ‚Äî –í–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–∞, HashMap –∏—â–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Å–≤–æ–±–æ–¥–Ω—ã–π –±–∞–∫–µ—Ç. (–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º HashMap Kotlin)

üîπ –ö–∞–∫ HashMap –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?

    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç hashCode() –∏ —Å—Ä–∞–∑—É –Ω–∞—Ö–æ–¥–∏—Ç –±–∞–∫–µ—Ç ‚Üí O(1).
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç equals() –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—é—á–µ–π –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏ ‚Üí O(n), –Ω–æ —Ä–µ–¥–∫–æ.
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ (resize()), –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–æ–ª–ª–∏–∑–∏–π.

üîπ –ò—Ç–æ–≥

    HashMap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤, –≤—ã—á–∏—Å–ª—è—è –∏–Ω–¥–µ–∫—Å —á–µ—Ä–µ–∑ hashCode() % size.
    –ï—Å–ª–∏ –≤ –±–∞–∫–µ—Ç–µ –∫–æ–ª–ª–∏–∑–∏—è, —ç–ª–µ–º–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ LinkedList.
    –ü—Ä–∏ –ø–æ–∏—Å–∫–µ —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ—Ç—Å—è –±–∞–∫–µ—Ç, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏—è).
    –û–ø–µ—Ä–∞—Ü–∏–∏ put() –∏ get() —Ä–∞–±–æ—Ç–∞—é—Ç –∑–∞ O(1), –Ω–æ –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö O(n).


`HashMap` –∏ `HashSet` ‚Äì —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ Kotlin (–∏ –≤ Java) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –≤—ã—Å–æ–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –ø–æ–∏—Å–∫–∞, –≤—Å—Ç–∞–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è.

---

## **üìå 1. HashMap (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)**

**`HashMap<K, V>`** ‚Äî —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è **—Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª—é—á–∏ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏**. –ö–ª—é—á–∏ **—É–Ω–∏–∫–∞–ª—å–Ω—ã**, –∞ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è.

### **üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `HashMap`**

- **O(1) (–∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞, –≤—Å—Ç–∞–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è**.
- **–ö–ª—é—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã**, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è.
- **–ü–æ–∑–≤–æ–ª—è–µ—Ç `null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏–π**.
- **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.

### **‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `HashMap`**

```kotlin 
val hashMap = HashMap<String, Int>()
hashMap["Alice"] = 25
hashMap["Bob"] = 30
hashMap["Charlie"] = 35

println(hashMap) // {Alice=25, Bob=30, Charlie=35}

println(hashMap["Bob"]) // 30 (–ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É)
println(hashMap.containsKey("Alice")) // true (–ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∫–ª—é—á)
println(hashMap.containsValue(40)) // false (–ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ)

hashMap.remove("Charlie") // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç
println(hashMap) // {Alice=25, Bob=30}

```

## **üìå 2. HashSet (–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)**

**`HashSet<T>`** ‚Äì —ç—Ç–æ **–Ω–∞–±–æ—Ä —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤**. –û–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `HashMap`, –≥–¥–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è, –∞ –≤–∞–∂–Ω—ã —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏.

### **üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `HashSet`**

- **O(1) —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.
- **–ù–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** (–≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã).
- **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.
- **–ü–æ–∑–≤–æ–ª—è–µ—Ç `null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —ç–ª–µ–º–µ–Ω—Ç–∞**.

### **‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `HashSet`**

```kotlin
val hashSet = HashSet<String>()
hashSet.add("Apple")
hashSet.add("Banana")
hashSet.add("Cherry")
hashSet.add("Apple") // ‚ùå –î—É–±–ª–∏–∫–∞—Ç –Ω–µ –¥–æ–±–∞–≤–∏—Ç—Å—è

println(hashSet) // –ù–∞–ø—Ä–∏–º–µ—Ä, [Banana, Cherry, Apple] (–ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω)

println(hashSet.contains("Banana")) // true
hashSet.remove("Cherry") // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç
println(hashSet) // –ù–∞–ø—Ä–∏–º–µ—Ä, [Banana, Apple]

```


## **üìå 3. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `HashMap` –∏ `HashSet`**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞         | `HashMap<K, V>`                                      | `HashSet<T>`                                         |
| ---------------------- | ---------------------------------------------------- | ---------------------------------------------------- |
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞              | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ)                        | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤                       |
| –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å           | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏, –Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã | –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã                               |
| –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º     | –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á—É `O(1)`                                | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `O(1)`                              |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `null`   | –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å `null` –∫–∞–∫ –∫–ª—é—á –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ           | –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å `null` –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç                     |
| –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | `HashTable`                                          | `HashMap<T, Unit>` (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `HashMap`) |

---



## **üìå 5. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç HashMap –∏ HashSet?**

- –í –æ—Å–Ω–æ–≤–µ –ª–µ–∂–∏—Ç **—Ö—ç—à-—Ç–∞–±–ª–∏—Ü–∞** (hash table).
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è **hashCode()**, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **bucket** (—è—á–µ–π–∫—É –≤ –º–∞—Å—Å–∏–≤–µ).
- **–ö–æ–ª–ª–∏–∑–∏–∏** (–∫–æ–≥–¥–∞ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω bucket) —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é **—Å–≤—è–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤** –∏–ª–∏ **–¥–µ—Ä–µ–≤—å–µ–≤ (Java 8+)**.
- `HashMap` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫–ª—é—á–∏**, –∞ `HashSet` ‚Äì –ø—Ä–æ—Å—Ç–æ **–∑–Ω–∞—á–µ–Ω–∏—è (–∫–∞–∫ –∫–ª—é—á–∏ HashMap)**.

---

üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç HashMap —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏?

    hashCode() –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫–æ–π –±–∞–∫–µ—Ç (bucket) –ø–æ–ø–∞–¥—ë—Ç –æ–±—ä–µ–∫—Ç.
    equals() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –±–∞–∫–µ—Ç–∞, –µ—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏ (–∫–æ–≥–¥–∞ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç).

üîπ –ü—Ä–∏–º–µ—Ä –ù–ï data class
```kotlin
class Person(val name: String, val age: Int) {
    override fun hashCode(): Int {
        return name.hashCode() * 31 + age // 31 ‚Äì –ø—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ, –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–º—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é
    }

    override fun equals(other: Any?): Boolean {
        if (this === other) return true
        if (other !is Person) return false
        return this.name == other.name && this.age == other.age
    }
}

fun main() {
    val map = HashMap<Person, String>()
    val p1 = Person("Alice", 30)
    val p2 = Person("Alice", 30)

    map[p1] = "Developer"
    
    println(map[p2]) // "Developer", —Ç–∞–∫ –∫–∞–∫ p1 –∏ p2 –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–≤–Ω—ã

```
}
üîπ –ß—Ç–æ —Ç—É—Ç –≤–∞–∂–Ω–æ?

    hashCode() –≤—ã—á–∏—Å–ª—è–µ—Ç —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∫–µ—Ç.
    equals() –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–≤–Ω—ã, –æ–Ω–∏ –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º.
    –ë–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è hashCode() –∏ equals() –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Ö –ø–æ–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ.

‚ùå –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å hashCode() –∏ equals()?

class Person(val name: String, val age: Int) // –ë–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤

fun main() {
    val map = HashMap<Person, String>()
    val p1 = Person("Alice", 30)
    val p2 = Person("Alice", 30)

    map[p1] = "Developer"
    
    println(map[p2]) // null, —Ç–∞–∫ –∫–∞–∫ p1 –∏ p2 ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
}

‚òùÔ∏è –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é hashCode() –∏ equals() —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Å—ã–ª–æ–∫, —Ç–æ –µ—Å—Ç—å p1 !== p2, –ø–æ—ç—Ç–æ–º—É map[p2] –≤–µ—Ä–Ω—ë—Ç null.


–û–±—ã—á–Ω–∞—è ==HashMap –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞== –∏ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –∏–∑–º–µ–Ω—è–µ—Ç HashMap, –∞ –¥—Ä—É–≥–æ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–∏—Ç–∞–µ—Ç –∏–∑ –Ω–µ–µ, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ –¥–∞–∂–µ –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º.

‚ùå –ü–æ—á–µ–º—É HashMap –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞?
    –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º (resize())
        HashMap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É, —Ä–∞–∑–º–µ—Ä –∫–æ—Ç–æ—Ä–æ–π —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏.
        –í –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å HashMap, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ "—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º —Å–≤—è–∑—è–º" (infinite loop) –≤–Ω—É—Ç—Ä–∏ resize(), –≤—ã–∑—ã–≤–∞—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

    –ü—Ä–æ–±–ª–µ–º–∞ —Å –∏—Ç–µ—Ä–∞—Ü–∏–µ–π (ConcurrentModificationException)
        –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –∏—Ç–µ—Ä–∏—Ä—É–µ—Ç –ø–æ HashMap, –∞ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –∏–∑–º–µ–Ω—è–µ—Ç –µ–µ, –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ConcurrentModificationException.

‚úÖ –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å HashMap –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π?
1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Collections.synchronizedMap()

–û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç HashMap –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±–æ–ª–æ—á–∫—É, –±–ª–æ–∫–∏—Ä—É—è –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–π:

val syncMap: MutableMap<Int, String> = Collections.synchronizedMap(HashMap())

syncMap[1] = "One"
syncMap[2] = "Two"

‚ö† –í–∞–∂–Ω–æ! –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ synchronizedMap –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞, –µ–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

synchronized(syncMap) {
    for ((key, value) in syncMap) {
        println("$key -> $value")
    }
}

2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ConcurrentHashMap (–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)

ConcurrentHashMap ‚Äî —ç—Ç–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ HashMap, –∫–æ—Ç–æ—Ä–∞—è:

    –†–∞–∑–¥–µ–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏.
    –ù–µ –∫–∏–¥–∞–µ—Ç ConcurrentModificationException –ø—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏.

val concurrentMap: MutableMap<Int, String> = ConcurrentHashMap()
concurrentMap[1] = "One"
concurrentMap[2] = "Two"

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ConcurrentHashMap: ‚úÖ –ß—Ç–µ–Ω–∏–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
‚úÖ –ó–∞–ø–∏—Å—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏.
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –¥–∞–∂–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.



## **üìå 6. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**

| –ö–æ–ª–ª–µ–∫—Ü–∏—è         | –û—Ç–ª–∏—á–∏–µ                                                   |
| ----------------- | --------------------------------------------------------- |
| **LinkedHashMap** | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤                       |
| **TreeMap**       | –î–µ—Ä–µ–≤—è–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã (O(log N))       |
| **LinkedHashSet** | HashSet, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è             |
| **TreeSet**       | –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞) |

---

## **üìå 7. –ò—Ç–æ–≥**

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `HashMap<K, V>`**, –µ—Å–ª–∏:

- –ù—É–∂–Ω–æ **–∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è**.
- –í–∞–∂–Ω–∞ **–±—ã—Å—Ç—Ä–∞—è –≤—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫**.

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `HashSet<T>`**, –µ—Å–ª–∏:

- –ù—É–∂–Ω–æ **—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**.
- **–ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω**, –Ω–æ –≤–∞–∂–Ω–∞ **–±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è**.

üîπ **–ï—Å–ª–∏ –≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏** ‚Üí `LinkedHashMap`, `LinkedHashSet`  
üîπ **–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Üí `TreeMap`, `TreeSet` üöÄ [[TreeMap TreeSet]]

[[kotlin]]