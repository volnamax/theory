### **1Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ ORM? –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

**ORM (Object-Relational Mapping)** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–±—ä–µ–∫—Ç—ã –∫–ª–∞—Å—Å–æ–≤ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç ORM?**

- –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ **–æ–±—ä–µ–∫—Ç—ã**.
- **–ó–∞–ø—Ä–æ—Å—ã** –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–º–µ–Ω—è—é—Ç—Å—è –≤—ã–∑–æ–≤–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤.
- ORM **—É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É** —Å –ë–î, –Ω–µ —Ç—Ä–µ–±—É—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü—Ä–∏–º–µ—Ä—ã ORM –≤ Android:**

- **Room (Android Jetpack)**
- **Realm**
- **ObjectBox**

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å Room:**
```kotlin
@Entity
data class User(
    @PrimaryKey val id: Int,
    val name: String
)

@Dao
interface UserDao {
    @Query("SELECT * FROM User")
    fun getAll(): List<User>

    @Insert
    fun insert(user: User)
}

@Database(entities = [User::class], version = 1)
abstract class AppDatabase : RoomDatabase() {
    abstract fun userDao(): UserDao
}

```

### **2Ô∏è‚É£ –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ Activity –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ —ç–∫—Ä–∞–Ω–∞?**

–ü—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ —ç–∫—Ä–∞–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å **–ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è**, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ**.

#### **–°–ø–æ—Å–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è:**

1Ô∏è‚É£ **ViewModel** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```kotlin
class MyViewModel : ViewModel() {
    var count = 0
}
```

### **3Ô∏è‚É£ –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Android?**

üìå –í Android –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

1Ô∏è‚É£ **SharedPreferences** ‚Üí —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞—Å—Ç—Ä–æ–µ–∫)  
2Ô∏è‚É£ **Room (SQLite)** ‚Üí –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö  
3Ô∏è‚É£ **Files (Internal/External Storage)** ‚Üí —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤  
4Ô∏è‚É£ **DataStore** ‚Üí –∑–∞–º–µ–Ω–∞ SharedPreferences  
5Ô∏è‚É£ **ContentProvider** ‚Üí –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏  
6Ô∏è‚É£ **Cloud (Firebase, API)** ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

---
### **4Ô∏è‚É£ –û–±—ä—è—Å–Ω–∏—Ç–µ Scoped Storage –≤ Android**

**Scoped Storage** ‚Äì –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ Android 10+ –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–Ω–µ –º–æ–∂–µ—Ç** –≤–∏–¥–µ—Ç—å —Ñ–∞–π–ª—ã –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
- –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º **–Ω—É–∂–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** (`MediaStore`, `SAF`).
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—ç—à** –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
`requestPermissions(arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE), 1)`

### **5Ô∏è‚É£ –ö–∞–∫ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Android?**

üìå –î–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **AES, RSA, EncryptedSharedPreferences**.

**1Ô∏è‚É£ EncryptedSharedPreferences** (Jetpack Security)
```kotlin
val masterKey = MasterKey.Builder(context)
    .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
    .build()

val sharedPrefs = EncryptedSharedPreferences.create(
    context,
    "secure_prefs",
    masterKey,
    EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
    EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
)
sharedPrefs.edit().putString("token", "secret").apply()

```
### **6Ô∏è‚É£ –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `commit()` –∏ `apply()` –≤ SharedPreferences**

**SharedPreferences** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **–Ω–∞—Å—Ç—Ä–æ–µ–∫** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

‚úî `commit()` ‚Üí **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true/false`.  
‚úî `apply()` ‚Üí **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –ø–æ—Ç–æ–∫.
[[android]]