
[[android]] [[kotlin]] [[java]]

# Определения

- **Многопоточность** - способность процессора обеспечивать одновременное выполнение нескольких потоков внутри одного процесса.
- **Процесс** - экземпляр программы во время выполнения. (Независимый объект, которому выделены системные ресурсы).
- **Поток выполнения** - определенный способ выполнения процесса. (Набор инструкций, которые выполняются последовательно)

# Thread lifecycle

![[Pasted image 20231117104602.png]]
1. *New* - поток создан
2. *Runnable* - поток запущен
	- *Waiting* - ожидание пока другие потоки не выполнят какое-то действие (**без лимита** по времени ожидания)
	- *Blocked* - ожидание освобождения lock'a monitor'ом synchonized секции
	- *Timed waiting* - ожидание пока другие потоки не выполнят какое-то действие (**с лимитом** по времени ожидания)
3. *Terminated* - поток завершил работу

# Handler Thread

![[Pasted image 20231122150248.png]]
### Looper

проходит по message queue и отправляет их в соответствующий handler
### Handler

выдергивает сообщения из очереди и обрабатывает их. каждый хендлер может быть связан с отдельным тредом и очередью сообщений этого треда

### Message queue

хранит в себе сообщения, которые должны будут оправлены лупером