[[Flow]] [[Корутины]] [[kotlin]]
\**1️⃣ Coroutines – для единичных асинхронных операций**

Корутины (через `suspend fun`) отлично подходят для выполнения **однократных** асинхронных операций, например:

- Запрос данных из сети (`Retrofit`, `Ktor`)
- Работа с базой данных (`Room`)
- Выполнение тяжелых вычислений в фоне (`Dispatchers.Default`)

**Пример Coroutines (одноразовая операция)**

```kotlin
suspend fun fetchData(): String {
    delay(1000) // Симуляция сетевого запроса
    return "Данные загружены"
}

fun main() = runBlocking {
    val result = fetchData() // Однократный вызов
    println(result)
}
```

2️⃣ Flow – для потоков данных

Flow используется, когда данные приходят постепенно, например:

```
Потоковые API (WebSocket, MQTT)
Реактивное обновление данных из БД
Считывание датчиков устройства (например, GPS)

```

✅ Пример Flow (непрерывный поток данных)

```kotlin
import kotlinx.coroutines.flow.*

fun generateNumbers(): Flow<Int> = flow {
    for (i in 1..5) {
        delay(500) // Симуляция задержки
        emit(i) // Отправка данных в поток
    }
}

fun main() = runBlocking {
    generateNumbers().collect { println(it) } // Подписка на поток
}
```

"Корутины используются для единичных асинхронных операций, таких как API-запросы и работа с БД. Flow — это холодный поток данных, который запускается при подписке и подходит для многократных событий, например, WebSocket или мониторинг GPS.”