#### –ß—Ç–æ —Ç–∞–∫–æ–µ View –≤ Android?

**View** –æ–±—ä–µ–∫—Ç—ã —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI) –≤ `Android`. View —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è –∫–æ—Ä–æ–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–∞—é—Ç `EditText`, `Button`, `CheckBox` –∏ —Ç. –¥. View –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∫–ª–∞—Å—Å—É `android.view.View`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–º –∫–ª–∞—Å—Å–æ–º –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ UI.


 ### –ü–æ—á–µ–º—É view –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å –Ω–µ –∏–∑ ui –ø–æ—Ç–æ–∫–∞?
    
–í Android –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI) –Ω–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ (—Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∫–∞–∫ UI –ø–æ—Ç–æ–∫) –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏–∑-–∑–∞ –º–æ–¥–µ–ª–∏ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—É—é Android –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

###### ChatGPT said:

### **üìå –ü–æ—á–µ–º—É `View` –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å –Ω–µ –∏–∑ UI-–ø–æ—Ç–æ–∫–∞?**

–í Android **–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (UI)**, –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ **–≥–ª–∞–≤–Ω–æ–º (UI) –ø–æ—Ç–æ–∫–µ**. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **–º–æ–¥–µ–ª—å—é –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏**, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –≤ Android.

---

### **üîπ –ü—Ä–∏—á–∏–Ω—ã –∑–∞–ø—Ä–µ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –∏–∑ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞**

1Ô∏è‚É£ **Android View Hierarchy –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞**

- –í—Å–µ `View` —ç–ª–µ–º–µ–Ω—Ç—ã (TextView, Button, RecyclerView –∏ —Ç. –¥.) **—Ö—Ä–∞–Ω—è—Ç —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ**.
- –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—é—Ç UI, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ **–∫—Ä–∞—à—É** (`CalledFromWrongThreadException`) –∏–ª–∏ **–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é**.

2Ô∏è‚É£ **–û–¥–∏–Ω –≥–ª–∞–≤–Ω—ã–π (UI) –ø–æ—Ç–æ–∫ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**

- **UI-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ**, –ø–æ—ç—Ç–æ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `View` –∏–∑ –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ.
- –ï—Å–ª–∏ –ø–æ—Ç–æ–∫ –æ–±–Ω–æ–≤–∏—Ç `View`, –ø–æ–∫–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, **–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**.

3Ô∏è‚É£ **–ò–∑–±–µ–∂–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≥–æ–Ω–∫–∏ (`Race Condition`)**

- –ï—Å–ª–∏ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç `TextView`, –æ–¥–Ω–æ –∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –º–æ–∂–µ—Ç **–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –¥—Ä—É–≥–æ–µ**.
- –≠—Ç–æ –¥–µ–ª–∞–µ—Ç UI **–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º**.

üîπ –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏

–ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å UI –∏–∑ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ:
```kotlin
Thread {
    textView.text = "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!" // –û—à–∏–±–∫–∞! View –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å –∏–∑ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞
}.start()

```

‚ùå –û—à–∏–±–∫–∞:
android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
üîπ –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å UI –∏–∑ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞?

üîπ –ò—Å–ø–æ–ª—å–∑—É–µ–º runOnUiThread (Activity)
```kotlin
Thread {
    val result = loadDataFromNetwork()
    runOnUiThread {
        textView.text = result  // ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ
    }
}.start()
```
üîπ –ò—Å–ø–æ–ª—å–∑—É–µ–º Kotlin Coroutines + Dispatchers.Main (–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
```kotlin
lifecycleScope.launch(Dispatchers.IO) {
    val result = loadDataFromNetwork()
    withContext(Dispatchers.Main) {
        textView.text = result  // ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ UI-–ø–æ—Ç–æ–∫–µ
    }
}
```
ChatGPT said:
–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª View –∏ –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤ Android

–í Android –∫–∞–∂–¥—ã–π View –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç—Ç–∞–ø–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:
üìå 1. Measure (–ò–∑–º–µ—Ä–µ–Ω–∏–µ)

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–∏—Å—Ç–µ–º–∞ –∏–∑–º–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –∫–∞–∂–¥–æ–≥–æ View.

    –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π View –≤—ã–∑—ã–≤–∞–µ—Ç —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ –º–µ—Ç–æ–¥ measure(widthMeasureSpec, heightMeasureSpec),
    —Å–ø—Ä–∞—à–∏–≤–∞—è, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –µ–º—É –Ω—É–∂–Ω–æ.
    –î–æ—á–µ—Ä–Ω–∏–π View –≤ –æ—Ç–≤–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã —á–µ—Ä–µ–∑ setMeasuredDimension(width, height).
    –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏–¥–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –ø–æ–∫–∞ –Ω–µ –±—É–¥—É—Ç –∏–∑–º–µ—Ä–µ–Ω—ã –≤—Å–µ View –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏.

‚úÖ –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:

override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {
    val width = MeasureSpec.getSize(widthMeasureSpec) // –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
    val height = MeasureSpec.getSize(heightMeasureSpec) 
    setMeasuredDimension(width, height) // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–º–µ—Ä–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
}

üìå 2. Layout (–†–∞–∑–º–µ—â–µ–Ω–∏–µ)

–ö–æ–≥–¥–∞ –≤—Å–µ View –∏–∑–º–µ—Ä–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ (layout).

    –†–æ–¥–∏—Ç–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ layout(left, top, right, bottom),
    –æ–ø—Ä–µ–¥–µ–ª—è—è, –≥–¥–µ –∏–º–µ–Ω–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –¥–æ—á–µ—Ä–Ω–∏–π View –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
    –î–æ—á–µ—Ä–Ω–∏–µ View –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ —ç–ª–µ–º–µ–Ω—Ç—ã.

‚úÖ –ü—Ä–∏–º–µ—Ä:

override fun onLayout(changed: Boolean, left: Int, top: Int, right: Int, bottom: Int) {
    childView.layout(left, top, left + childWidth, top + childHeight)
}

    layout() –∑–∞–¥–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã View –≤–Ω—É—Ç—Ä–∏ —Ä–æ–¥–∏—Ç–µ–ª—è.

üìå 3. Draw (–û—Ç—Ä–∏—Å–æ–≤–∫–∞)

–ü–æ—Å–ª–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —ç—Ç–∞–ø –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (draw()).

    View –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å–µ–±—è —á–µ—Ä–µ–∑ onDraw(Canvas),
    –∏—Å–ø–æ–ª—å–∑—É—è Canvas –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∏ (–ª–∏–Ω–∏–π, —Ç–µ–∫—Å—Ç–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ç. –¥.).
    –ï—Å–ª–∏ ViewGroup, –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç dispatchDraw(Canvas), —á—Ç–æ–±—ã –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ View.

‚úÖ –ü—Ä–∏–º–µ—Ä:

override fun onDraw(canvas: Canvas) {
    canvas.drawRect(0f, 0f, width.toFloat(), height.toFloat(), paint)
}
#### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª View:
## **–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ View**

| **–ú–µ—Ç–æ–¥**                  | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                         |
| -------------------------- | ---------------------------------------------------------------------------------------------------- |
| **onAttachedToWindow()**   | `View` –±—ã–ª **–¥–æ–±–∞–≤–ª–µ–Ω** –≤ –æ–∫–Ω–æ. –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏, —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é.         |
| **measure()**              | `View` **–∏–∑–º–µ—Ä—è–µ—Ç—Å—è** –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º. –í—ã–∑—ã–≤–∞–µ—Ç `onMeasure()`.                                    |
| **onMeasure()**            | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç **—Ä–∞–∑–º–µ—Ä** `View`. –î–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å `setMeasuredDimension(width, height)`. |
| **layout()**               | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç **—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ** `View` –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –í—ã–∑—ã–≤–∞–µ—Ç `onLayout()`.                                   |
| **onLayout()**             | `ViewGroup` —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç **—Å–≤–æ–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã** –≤ –Ω—É–∂–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.                             |
| **dispatchDraw()**         | `ViewGroup` —Ä–∏—Å—É–µ—Ç **–≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ View**.                                                            |
| **draw()**                 | –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º **–æ—Ç—Ä–∏—Å–æ–≤–∫–∏** `View`. –í—ã–∑—ã–≤–∞–µ—Ç `onDraw()`.                                       |
| **onDraw()**               | –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ **—Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ View** (–≥—Ä–∞—Ñ–∏–∫–∞, —Ç–µ–∫—Å—Ç, —Ñ–∏–≥—É—Ä—ã).                              |
| **onDetachedFromWindow()** | `View` **—É–¥–∞–ª–µ–Ω** –∏–∑ –æ–∫–Ω–∞, –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –º–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å.                                               |
|                            |                                                                                                      |
1. **onAttachedToWindow()**: –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ View –±—ã–ª–æ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–æ –∫ –æ–∫–Ω—É. –≠—Ç–æ –ø–µ—Ä–≤—ã–π —à–∞–≥, –∫–æ–≥–¥–∞ View —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º—ã–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–ª–∏ –Ω–∞—á–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ. –≠—Ç–æ —Ç–∞–∫–∂–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç, —á—Ç–æ View —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
    
2. **measure()**: –≠—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥ —Å–∏—Å—Ç–µ–º—ã Android, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–º–µ—Ä–µ–Ω–∏—è View –ø—É—Ç—ë–º –≤—ã–∑–æ–≤–∞ onMeasure(). –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –Ω–æ –æ–Ω –≤–∞–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ View.
    
3. **onMeasure(int, int)**: –í onMeasure(), View –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, –∏—Å—Ö–æ–¥—è –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (specifications) —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. View –¥–æ–ª–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å setMeasuredDimension(int width, int height) –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ—Ä–µ–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤. –≠—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞–∑–º–µ—Ä–æ–º –≤–∞—à–µ–≥–æ View.
    
4. **layout()**: –≠—Ç–æ –¥—Ä—É–≥–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥ —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ View –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ç–∞–∫–∂–µ –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.
    
5. **onLayout(boolean, int, int, int, int)**: –ü–æ—Å–ª–µ –º–µ—Ç–æ–¥–∞ layout(), onLayout() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã View —Ä–∞—Å–ø–æ–ª–æ–∂–∏–ª–æ —Å–µ–±—è –∏ –≤—Å–µ —Å–≤–æ–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã. –í —Å–ª—É—á–∞–µ —Å ViewGroup, –∑–¥–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö View. –≠—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–π –º–µ—Ç–æ–¥, –≥–¥–µ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ, –≥–¥–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ ViewGroup.
    
6. **dispatchDraw(Canvas)**: dispatchDraw –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ ViewGroup –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö View. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –∏ –æ–±—ã—á–Ω–æ –µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º, –∫–∞–∫ –≤–∞—à–∏ –¥–æ—á–µ—Ä–Ω–∏–µ View —Ä–∏—Å—É—é—Ç—Å—è.
    
7. **draw(Canvas)**: –≠—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è, –≤–∫–ª—é—á–∞—è –≤—ã–∑–æ–≤ onDraw(), —Ä–∏—Å–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–∞, –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, —Å–∫—Ä–æ–ª–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç. –¥. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ–±—ã—á–Ω–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—Ç—É onDraw().
    
8. **onDraw(Canvas)**: onDraw() ‚Äî —ç—Ç–æ –≥–¥–µ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ, –∫–∞–∫ View –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º, —Ç–µ–∫—Å—Ç–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π View –∏ —Ö–æ—Ç–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

![[Pasted image 20250308153019.png]]
#### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏ invalidateLayout –∏ requestLayout?

- `invalidate()`: –í—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ view –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω–æ, –Ω–æ –µ–≥–æ —Ä–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è.
- `requestLayout()`: –í—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ view –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–∑–º–µ—Ä–µ–Ω–æ –∏ —Ä–∞–∑–º–µ—â–µ–Ω–æ –∑–∞–Ω–æ–≤–æ, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–∫ —ç—Ç–æ–≥–æ view, —Ç–∞–∫ –∏ –µ–≥–æ –ø–æ—Ç–æ–º–∫–æ–≤.

#### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `View.GONE` –∏ `View.INVISIBLE`?

**View.GONE:**

* –ß—Ç–æ –¥–µ–ª–∞–µ—Ç: –î–µ–ª–∞–µ—Ç View –Ω–µ–≤–∏–¥–∏–º—ã–º –∏ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –º–∞–∫–µ—Ç–µ.
* –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–Ω—É—Ç—å –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–Ω–∏–º–∞—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –µ–≥–æ –Ω–µ –±—ã–ª–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
    –ü—Ä–∏–º–µ—Ä: myView.visibility = View.GONE  // View –∏—Å—á–µ–∑–∞–µ—Ç –∏ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ

View.INVISIBLE:
* –ß—Ç–æ –¥–µ–ª–∞–µ—Ç: –î–µ–ª–∞–µ—Ç View –Ω–µ–≤–∏–¥–∏–º—ã–º, –Ω–æ –æ–Ω–æ –≤—Å–µ –µ—â–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –º–∞–∫–µ—Ç–µ.
* –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–≤–∏–¥–∏–º—ã–º, –Ω–æ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∑–∞–Ω–∏–º–∞—Ç—å –º–µ—Å—Ç–æ –≤ –º–∞–∫–µ—Ç–µ. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å —ç–ª–µ–º–µ–Ω—Ç, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
    –ü—Ä–∏–º–µ—Ä: myView.visibility = View.INVISIBLE  // View –Ω–µ–≤–∏–¥–∏–º, –Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç

#### –ú–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π View? –ö–∞–∫?

–î–∞, –≤ Android –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **–∫–∞—Å—Ç–æ–º–Ω—ã–π View** (Custom View). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ—Ç –∫–ª–∞—Å—Å–∞ `View` –∏–ª–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ (`TextView`, `Button`, `ImageView`, `LinearLayout` –∏ —Ç. –¥.) –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤.
```kotlin 
import android.content.Context
import android.graphics.Canvas
import android.graphics.Color
import android.graphics.Paint
import android.util.AttributeSet
import android.view.View

class CustomCircleView @JvmOverloads constructor(
    context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0
) : View(context, attrs, defStyleAttr) {

    private val paint = Paint().apply {
        color = Color.RED
        style = Paint.Style.FILL
    }

    override fun onDraw(canvas: Canvas) {
        super.onDraw(canvas)
        val radius = width.coerceAtMost(height) / 2f
        canvas.drawCircle(width / 2f, height / 2f, radius, paint)
    }
}

```
‚úî **–ö–æ–≥–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ View –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç** (–Ω—É–∂–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞).  
‚úî **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∏—Å–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫—É —á–µ—Ä–µ–∑ `Canvas`).  
‚úî **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**.


# ViewGroup VS View
### **–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è `View` –∏ `ViewGroup`**

| **–ö—Ä–∏—Ç–µ—Ä–∏–π**                      | **View**                          | **ViewGroup**                                     |
| --------------------------------- | --------------------------------- | ------------------------------------------------- |
| **–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**     | –î–∞ (–≤–∏–¥–∏–º—ã–π —ç–ª–µ–º–µ–Ω—Ç UI)           | –ù–µ—Ç (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è `View`)                        |
| **–ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ `View`** | ‚ùå –ù–µ—Ç                             | ‚úÖ –î–∞                                              |
| **–ü—Ä–∏–º–µ—Ä—ã**                       | `Button`, `TextView`, `ImageView` | `LinearLayout`, `FrameLayout`, `ConstraintLayout` |

### **1. `View` ‚Äì —ç—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

`View` ‚Äì —ç—Ç–æ **–±–∞–∑–æ–≤—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫** UI –≤ Android.

- –û–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç **–æ–¥–∏–Ω–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
- `View` –º–æ–∂–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Button`, `TextView`, `ImageView`).
- –í—Å–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ Android –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç `View`.
```kotlin
@Composable
fun MyScreen() {
    Column(
        modifier = Modifier
            .fillMaxSize()
            .padding(16.dp),
        verticalArrangement = Arrangement.Center,
        horizontalAlignment = Alignment.CenterHorizontally
    ) {
        // View: –¢–µ–∫—Å—Ç
        Text(text = "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!", fontSize = 24.sp)

        Spacer(modifier = Modifier.height(16.dp)) // –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

        // View: –ö–Ω–æ–ø–∫–∞
        Button(onClick = { /* –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ */ }) {
            Text(text = "–ù–∞–∂–º–∏ –º–µ–Ω—è")
        }
    }
}

```

### **2. `ViewGroup` ‚Äì —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è `View`**

`ViewGroup` ‚Äì —ç—Ç–æ **–Ω–µ–≤–∏–¥–∏–º—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ `View` (–∏ –¥–∞–∂–µ `ViewGroup`).

- –û–Ω **–Ω–µ –∏–º–µ–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**, –Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–º–∏ `View`.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
- `ViewGroup` —Å–∞–º —è–≤–ª—è–µ—Ç—Å—è `View`, –Ω–æ **–æ–Ω –Ω–µ —Ä–∏—Å—É–µ—Ç –Ω–∏—á–µ–≥–æ —Å–∞–º**, –∞ –ª–∏—à—å —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–º–∏ `View`.

#### –ß—Ç–æ —Ç–∞–∫–æ–µ Canvas?

**Canvas** ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤ Android —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –≥—Ä–∞—Ñ–∏–∫—É. –° –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ä–∏—Å–æ–≤–∞–Ω–∏–µ, –∞–Ω–∏–º–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π.
`Canvas` ‚Äì —ç—Ç–æ **–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã UI, —Ç–∞–∫–∏–µ –∫–∞–∫ **–≥—Ä–∞—Ñ–∏–∫–∏, –¥–∏–∞–≥—Ä–∞–º–º—ã, –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**.

```kotlin 
@Composable
fun CanvasExample() {
    Canvas(modifier = Modifier.fillMaxSize()) {
        drawCircle(
            color = Color.Blue,       // –¶–≤–µ—Ç –∫—Ä—É–≥–∞
            radius = 100f,            // –†–∞–¥–∏—É—Å –∫—Ä—É–≥–∞
            center = Offset(size.width / 2, size.height / 2)  // –¶–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞
        )
    }
}

```
#### –ß—Ç–æ —Ç–∞–∫–æ–µ SurfaceView?

**SurfaceView** ‚Äî —ç—Ç–æ –ø–æ–¥–∫–ª–∞—Å—Å View, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Ä–∏—Å–æ–≤–∞—Ç—å, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∞–Ω–∏–º–∞—Ü–∏–π –∏–ª–∏ –≤–∏–¥–µ–æ, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–µ–Ω—å—à–µ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º UI.

```kotlin 
import android.content.Context
import android.graphics.Canvas
import android.graphics.Color
import android.graphics.Paint
import android.view.SurfaceHolder
import android.view.SurfaceView
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.platform.LocalContext
import androidx.compose.ui.viewinterop.AndroidView
import kotlinx.coroutines.delay
import kotlin.math.cos
import kotlin.math.sin

@Composable
fun SurfaceViewExample() {
    val context = LocalContext.current

    AndroidView(
        modifier = Modifier.fillMaxSize(),
        factory = { CustomSurfaceView(context) }
    )
}

class CustomSurfaceView(context: Context) : SurfaceView(context), SurfaceHolder.Callback {

    private val drawThread = DrawThread(holder)

    init {
        holder.addCallback(this)
    }

    override fun surfaceCreated(holder: SurfaceHolder) {
        drawThread.running = true
        drawThread.start()
    }

    override fun surfaceChanged(holder: SurfaceHolder, format: Int, width: Int, height: Int) {}

    override fun surfaceDestroyed(holder: SurfaceHolder) {
        drawThread.running = false
        drawThread.join()
    }
}

class DrawThread(private val surfaceHolder: SurfaceHolder) : Thread() {
    var running = false
    private val paint = Paint().apply {
        color = Color.RED
        style = Paint.Style.FILL
    }

    override fun run() {
        var angle = 0.0
        while (running) {
            val canvas: Canvas? = surfaceHolder.lockCanvas()
            if (canvas != null) {
                try {
                    canvas.drawColor(Color.BLACK)
                    val x = (300 + 100 * cos(angle)).toFloat()
                    val y = (500 + 100 * sin(angle)).toFloat()
                    canvas.drawCircle(x, y, 50f, paint)
                    angle += 0.1
                } finally {
                    surfaceHolder.unlockCanvasAndPost(canvas)
                }
            }
            sleep(16) // 60 FPS
        }
    }
}

```

#### Relative Layout –ø—Ä–æ—Ç–∏–≤ Linear Layout.

- **Relative Layout** –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å –≤–∏–¥–∂–µ—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- **Linear Layout** —Ä–∞–∑–º–µ—â–∞–µ—Ç –≤–∏–¥–∂–µ—Ç—ã –≤ –ª–∏–Ω–µ–π–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ.
### ‚úÖ **–ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å –≤ Jetpack Compose?**

| **–ó–∞–¥–∞—á–∞**                                     | **–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –≤ Compose** |
| ---------------------------------------------- | ---------------------------- |
| –†–∞–∑–º–µ—â–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã **–ª–∏–Ω–µ–π–Ω–æ**                 | `Column`, `Row`              |
| –†–∞–∑–º–µ—â–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã **–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –¥—Ä—É–≥–∞** | `Box` + `align()`            |
#### –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ Constraint Layout

**Constraint Layout** ‚Äî —ç—Ç–æ –≥–∏–±–∫–∏–π –∏ –º–æ—â–Ω—ã–π –º–∞–∫–µ—Ç –≤ Android, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞–∫–µ—Ç–æ–≤. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —à–∏—Ä–æ–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–º–µ—Ä–∞ –≤–∏–¥–∂–µ—Ç–æ–≤, —á—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.
**in compouse** 
```kotlin
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.Button
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.constraintlayout.compose.ConstraintLayout

@Composable
fun ConstraintLayoutExample() {
    ConstraintLayout(
        modifier = Modifier.fillMaxSize()
    ) {
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Å—ã–ª–∫–∏ (constraints)
        val (button, text) = createRefs()

        Text(
            text = "–ü—Ä–∏–≤–µ—Ç, ConstraintLayout!",
            modifier = Modifier.constrainAs(text) {
                top.linkTo(parent.top, margin = 32.dp)
                start.linkTo(parent.start)
                end.linkTo(parent.end)
            }
        )

        Button(
            onClick = {},
            modifier = Modifier.constrainAs(button) {
                top.linkTo(text.bottom, margin = 16.dp)
                start.linkTo(parent.start)
                end.linkTo(parent.end)
            }
        ) {
            Text("–ù–∞–∂–º–∏ –º–µ–Ω—è")
        }
    }
}

```
#### –ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ —Ç–∞–∫–æ–µ –¥–µ—Ä–µ–≤–æ View? –ö–∞–∫ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≥–ª—É–±–∏–Ω—É? (ViewTreeObserver)


**–î–µ—Ä–µ–≤–æ –∏–∑ View** ‚Äî —ç—Ç–æ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã (views) –∏ –º–∞–∫–µ—Ç—ã (layouts), —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–ª—É–±–∏–Ω—É –¥–µ—Ä–µ–≤–∞ View –º–æ–∂–Ω–æ –ø—É—Ç–µ–º —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞–∫–µ—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **ConstraintLayout** –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏ –∏–∑–±–µ–≥–∞–Ω–∏—è –ª–∏—à–Ω–∏—Ö –º–∞–∫–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–Ω–æ—Å—è—Ç –≤–∫–ª–∞–¥ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. **ViewTreeObserver** –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ –¥–µ—Ä–µ–≤–µ View, —Ç–∞–∫–∏—Ö, –∫–∞–∫ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π.

–í **Jetpack Compose** –Ω–µ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ **–¥–µ—Ä–µ–≤–∞ View**, –Ω–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π.

## üìå **–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ—Ä–µ–≤–æ View?**

–í **–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º Android (View)** –∫–∞–∂–¥—ã–π UI-—ç–ª–µ–º–µ–Ω—Ç (`View`) —è–≤–ª—è–µ—Ç—Å—è —É–∑–ª–æ–º **–¥–µ—Ä–µ–≤–∞ View**, –∞ `ViewGroup` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LinearLayout`, `ConstraintLayout`) –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ `View`.

–í **Jetpack Compose** –≤–º–µ—Å—Ç–æ `ViewTree` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Composable-–∏–µ—Ä–∞—Ä—Ö–∏—è**, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ `Composable`-—Ñ—É–Ω–∫—Ü–∏–π.

[[android]]