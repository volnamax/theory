### **–ß—Ç–æ —Ç–∞–∫–æ–µ LiveData –≤ Android?**

`LiveData` ‚Äì —ç—Ç–æ **—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Å–µ—Ä–≤–∞–±–ª (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–π) –∫–ª–∞—Å—Å**, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (`Observer`) –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏.

#### **üìå –ó–∞—á–µ–º –Ω—É–∂–µ–Ω LiveData?**

‚úî **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö  
‚úî **–£—á–∏—Ç—ã–≤–∞–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª** (`Lifecycle-aware`)  
‚úî **–ò–∑–±–µ–≥–∞–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏** (–æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç `Activity/Fragment`, –∫–æ–≥–¥–∞ –æ–Ω–∏ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è)  
‚úî –†–∞–±–æ—Ç–∞–µ—Ç –≤ **–æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ (UI)**

### **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç LiveData?**

1. **ViewModel** —Ö—Ä–∞–Ω–∏—Ç `LiveData`
2. **Activity/Fragment** –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `LiveData`
3. –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—è—é—Ç—Å—è, `LiveData` **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç UI**
 –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è LiveData
4. ViewModel
```kotlin
class MyViewModel : ViewModel() {
    private val _text = MutableLiveData<String>() // –ò–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
    val text: LiveData<String> = _text // –û—Ç–∫—Ä—ã—Ç—ã–π LiveData –¥–ª—è UI

    fun updateText() {
        _text.value = "Hello, LiveData!" // –ò–∑–º–µ–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
    }
}
```


2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Activity
```kotlin
class MainActivity : AppCompatActivity() {
    private lateinit var viewModel: MyViewModel

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        viewModel = ViewModelProvider(this).get(MyViewModel::class.java)

        // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ LiveData
        viewModel.text.observe(this) { newText ->
            textView.text = newText // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI
        }
    }
}
```


‚úÖ –¢–µ–ø–µ—Ä—å UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ LiveData
### **üîπ –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É setValue() –∏ postValue()?**

| –ú–µ—Ç–æ–¥              | –û–ø–∏—Å–∞–Ω–∏–µ                                                          |
| ------------------ | ----------------------------------------------------------------- |
| `setValue(value)`  | üîπ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **–≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ (UI)**                         |
| `postValue(value)` | üîπ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **—Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ** ‚Äì —Å—Ç–∞–≤–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å |
‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å `postValue()` –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥ –≤ –±—ã—Å—Ç—Ä–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ**.
### **LiveData vs ObservableField**

|–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å|`LiveData`|`ObservableField`|
|---|---|---|
|–£—á–∏—Ç—ã–≤–∞–µ—Ç `Lifecycle`|‚úÖ –î–∞|‚ùå –ù–µ—Ç|
|–†–∞–±–æ—Ç–∞–µ—Ç —Å ViewModel|‚úÖ –î–∞|‚úÖ –î–∞|
|–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏|‚úÖ –î–∞|‚ùå –ù–µ—Ç|
|–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å UI|‚úÖ –î–∞|‚úÖ –î–∞|
|–¢—Ä–µ–±—É–µ—Ç DataBinding|‚ùå –ù–µ—Ç|‚úÖ –î–∞|

üëâ **–í—ã–≤–æ–¥:** `LiveData` –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —É—á–∏—Ç—ã–≤–∞–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏.

"`LiveData` —É—á–∏—Ç—ã–≤–∞–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏."
[[android]]