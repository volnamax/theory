[[java]]

![[Pasted image 20231124110401.png]]

## Stack

в стеке лежат примитивы и ссылки на объекты в куче. т.к. в *kotlin* нет примитивов, то как тогда все ссылки вмещаются в стек, если они занимают больше места чем примитивы? под капотом *kotlin* кастит объекты в джава примитивы (если это конечно возможно, например *Int* в *int*), причем только те, что не нуллабельны. если они нуллабельны, то кастятся уже в объекты (*Int?* в *Integer*)

## Non-heap memory

в `PermGen (Permanent Generation)` хранятся статик методы, примитивы и ссылки на статик объекты. с Java 8 заменен на `Metaspace`


![[Pasted image 20240321125711.png]]
